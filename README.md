# YNU-xk_spider
云南大学选课爬虫，提供余课提醒服务，实现了自动抢课

## 项目环境：
* python版本：3.7.4
* 第三方库：selenium 3.141.0；requests 2.22.0 
* Chrome版本：80.0.3987.122 及其对应driver

基本上已经实现了余课提醒和自动抢课，余课提醒是通过server酱接口直接发送到你的微信上，为此你需要先从他们官网上获得一个key（[点击访问server酱官网，获取到key即可](http://sc.ftqq.com/3.version)），并且**关注"方糖"服务号**。具体操作官网都有写，我就不赘述了。

另外程序主要提供主修（包括必修和专选）和素选课程的余课提醒，**体育课和跨专业选修没测试过**，如果遇到问题可以在issue里提出来  
  
  
## 如何使用:
1. **安装好运行环境，下载此程序并解压。**
2. **打开RunWithoutPost.py文件。** 需要填的字段都已经用注释的形式标明了。填完了直接运行即可。这之后程序会开始循环执行，同时打开一个窗口，切记不要关闭这个窗口（这个窗口是用来保持连接的，因为登录的账号长时间不操作会被服务器自动注销，之后服务器会拒绝一切请求。有个更好的解决方案我还没来得及写，先这样凑合着，能续多久是多久，如果您也有更好的办法可以通过issue/pull request/告知我）
3. **安装文件注释中的提示填写好字段，运行程序。**

我已经尽量把代码封装成小白能使用的程度了，不需要您有太多前端和python基础，照着注释将字段填好然后运行就完事了。程序已经做了初步的异常检测，如果您在运行时有什么问题，也可以在issue里提出来

另外，因为程序使用到了selenium模块，因此必须要下载Chrome浏览器驱动。具体教程[参考教程见此，另外不需要你添加环境变量，记住你的下载路径就行](https://jingyan.baidu.com/article/f7ff0bfcdd89ed2e27bb1379.html)，如果您的电脑未安装Chrome浏览器，这边建议您安装一个，而且没有Chrome此程序无法运行

**自动抢课的代码因为怕查水表暂时没贴出来**，但其实也就几十来行，有点前端基础的人完全可以自己实现，因为最难的分析和请求部分我基本已经在现有程序中做完了。不过如果没有前端基础也不用担心，**我会在在这次选课的时间内贴出来，所以还请点下右上角的star，持续关注此项目 :)**

**登录过程中如果出现"认证失败"，那是服务器抽风导致的（雨我无瓜），此时刷新页面或退掉重开都行**  
## 成功示例：
![](./resource/res1.png![](./resource/res2.jpg)![](./resource/res3.jpg)
  
## 郑重声明:
此程序仅作为技术交流之用，请不要将其用于任何形式的收费行为中，  
**拿这个去赚钱的崽种必会被山本宽施以天诛  
Those bastards who take this to make money will be executed  by Yamamoto  
これを持って金をもうける崽種は山本寛の天誅を受けるに違いない**  
![](./resource/rysh.jpg)




